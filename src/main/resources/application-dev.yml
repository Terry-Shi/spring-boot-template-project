spring:
  datasource:
    url: jdbc:mysql://${MYSQL_HOST:localhost}:${MYSQL_PORT:3306}/myapp?useUnicode=yes&characterEncoding=UTF-8&useSSL=true&verifyServerCertificate=false&createDatabaseIfNotExist=true
    username: ${MYSQL_USERNAME:root}
    password: ${MYSQL_PASSWORD:root}
    driver-class-name: com.mysql.jdbc.Driver
    hikari:
      connection-init-sql: "SET NAMES utf8mb4 COLLATE utf8mb4_unicode_ci;"
  jpa:
    show-sql: ${SHOW_SQL:false}
    database-platform: com.terry.webapp.util.MySQL57InnoDBDialectUtf8mb4 #org.hibernate.dialect.MySQL57Dialect #spring boot2中不加这句则默认为myisam引擎，参考类注释
    hibernate:
      ddl-auto: update
#      type: trace
    
myapp:
  authentication:
    enable: ${AUTH_ENABLE:true}
    issuer: ${ISSUER:apiserver}
    tokenExpiredSeconds: ${TOKEN_EXPIRED_SECONDS:600}
    refreshTokenExpiredSeconds: ${REFRESH_TOKEN_EXPIRED_SECONDS:86400}
    white-list-type: normal
    white-list: "/api/v1/swagger.json:GET|POST,/api/v1/health:GET|POST,/api/v1/user/login:POST,/api/v1/user/refreshtoken:POST"

logging:
  level:
    root: INFO
    myapp: INFO
    org:
      hibernate:
#        type: TRACE  # 显示SQL Query取出的每个字段的数据类型
        SQL: DEBUG  # 显示SQL
  #file: /var/log/myapp.log
  pattern:
    console: '%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level [%thread] [%X{requestId}] %logger{15} - %msg%n'  